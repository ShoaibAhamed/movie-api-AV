{"ast":null,"code":"var _jsxFileName = \"/Users/shoaibahamed/Desktop/wookie-movie-main/src/Pages/MovieDetails/MovieDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { addToDb, removeFromDb } from \"../../utilities/localDb\";\nimport \"./MovieDetails.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MovieDetails = () => {\n  _s();\n\n  const {\n    title\n  } = useParams();\n  const [movie, setMovie] = useState({});\n  const [marked, setMarked] = useState([]);\n  const [alreadyMarked, setAlreadyMarked] = useState(false);\n  useEffect(() => {\n    fetch(`https://wookie.codesubmit.io/movies?q=${title}`, {\n      headers: {\n        Authorization: \"Bearer Wookie2021\"\n      }\n    }).then(res => res.json()).then(data => {\n      setMovie(data.movies[0]);\n      console.log(data);\n    });\n  }, [title]);\n  const {\n    id,\n    backdrop,\n    cast,\n    length,\n    director,\n    overview,\n    imdb_rating,\n    poster,\n    released_on,\n    title: name\n  } = movie;\n  const directors = director > 0 ? director === null || director === void 0 ? void 0 : director.join(\",\") : director;\n  const casts = cast ? cast === null || cast === void 0 ? void 0 : cast.join(\",\") : \"\";\n  const year = released_on ? released_on === null || released_on === void 0 ? void 0 : released_on.split(\"-\")[0] : \"\";\n\n  const handleAddToBookmarks = markedMovie => {\n    addToDb(markedMovie);\n    setAlreadyMarked(true);\n  };\n\n  const handleRemoveFromBookmarks = markedMovie => {\n    removeFromDb(markedMovie);\n    setAlreadyMarked(false);\n  };\n\n  useEffect(() => {\n    const bookmarked = JSON.parse(localStorage.getItem(\"bookmarks\"));\n\n    if (bookmarked) {\n      const markedMovies = bookmarked === null || bookmarked === void 0 ? void 0 : bookmarked.id;\n      console.log(markedMovies);\n      const alreadyMarked = markedMovies.find(movie => movie.indexOf(id) !== -1);\n\n      if (alreadyMarked) {\n        setAlreadyMarked(true);\n      }\n    }\n  }, [id]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"movie-details\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"poster\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: poster,\n        alt: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [name, /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"rating\",\n            children: [\"(\", imdb_rating, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Year: \", year]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"length: \", length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"director: \", directors]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"cast: \", casts]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: overview\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: alreadyMarked ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleRemoveFromBookmarks(id),\n          children: \"Remove from bookmark\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleAddToBookmarks(id),\n          children: \"Add to bookmark\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MovieDetails, \"l5avSiJZiOK1Z1UfWRlthn1sxow=\", false, function () {\n  return [useParams];\n});\n\n_c = MovieDetails;\nexport default MovieDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"MovieDetails\");","map":{"version":3,"names":["React","useEffect","useState","useParams","addToDb","removeFromDb","MovieDetails","title","movie","setMovie","marked","setMarked","alreadyMarked","setAlreadyMarked","fetch","headers","Authorization","then","res","json","data","movies","console","log","id","backdrop","cast","length","director","overview","imdb_rating","poster","released_on","name","directors","join","casts","year","split","handleAddToBookmarks","markedMovie","handleRemoveFromBookmarks","bookmarked","JSON","parse","localStorage","getItem","markedMovies","find","indexOf"],"sources":["/Users/shoaibahamed/Desktop/wookie-movie-main/src/Pages/MovieDetails/MovieDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { addToDb, removeFromDb } from \"../../utilities/localDb\";\nimport \"./MovieDetails.css\";\n\nconst MovieDetails = () => {\n  const { title } = useParams();\n  const [movie, setMovie] = useState({});\n  const [marked, setMarked] = useState([]);\n  const [alreadyMarked, setAlreadyMarked] = useState(false);\n\n  useEffect(() => {\n    fetch(`https://wookie.codesubmit.io/movies?q=${title}`, {\n      headers: {\n        Authorization: \"Bearer Wookie2021\",\n      },\n    })\n      .then((res) => res.json())\n      .then((data) => {\n        setMovie(data.movies[0]);\n        console.log(data);\n      });\n  }, [title]);\n\n  const {\n    id,\n    backdrop,\n    cast,\n    length,\n    director,\n    overview,\n    imdb_rating,\n    poster,\n    released_on,\n    title: name,\n  } = movie;\n  const directors = director > 0 ? director?.join(\",\") : director;\n  const casts = cast ? cast?.join(\",\") : \"\";\n  const year = released_on ? released_on?.split(\"-\")[0] : \"\";\n\n  const handleAddToBookmarks = (markedMovie) => {\n    addToDb(markedMovie);\n    setAlreadyMarked(true)\n  };\n\n  const handleRemoveFromBookmarks = (markedMovie) => {\n    removeFromDb(markedMovie);\n    setAlreadyMarked(false)\n  };\n\n  useEffect(() => {\n    const bookmarked = JSON.parse(localStorage.getItem(\"bookmarks\"));\n    if (bookmarked) {\n      const markedMovies = bookmarked?.id;\n      console.log(markedMovies);\n      const alreadyMarked = markedMovies.find(\n        (movie) => movie.indexOf(id) !== -1\n      );\n      if (alreadyMarked) {\n        setAlreadyMarked(true);\n      }\n    }\n  }, [id]);\n\n  return (\n    <div className=\"movie-details\">\n      <div className=\"poster\">\n        <img src={poster} alt=\"\" />\n      </div>\n      <div className=\"info\">\n        <div>\n          <h1>\n            {name}\n            <span className=\"rating\">({imdb_rating})</span>\n          </h1>\n        </div>\n        <div>\n          <div>\n            <p>Year: {year}</p>\n            <p>length: {length}</p>\n            <p>director: {directors}</p>\n          </div>\n          <div>\n            <p>cast: {casts}</p>\n          </div>\n        </div>\n        <div>\n          <p>{overview}</p>\n        </div>\n        <div>\n          {alreadyMarked ? (\n            <button onClick={() => handleRemoveFromBookmarks(id)}>\n              Remove from bookmark\n            </button>\n          ) : (\n            <button onClick={() => handleAddToBookmarks(id)}>\n              Add to bookmark\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}